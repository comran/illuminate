cmake_minimum_required(VERSION 3.2)

project(BuildGTest NONE)

include(ExternalProject)
ExternalProject_Add(GTest
    PREFIX            "${CMAKE_CURRENT_BINARY_DIR}"
    GIT_REPOSITORY    https://github.com/google/googletest.git
    GIT_TAG           master
    GIT_PROGRESS      ON
    STAMP_DIR         "${CMAKE_CURRENT_BINARY_DIR}/stamp"
    DOWNLOAD_DIR      "${CMAKE_CURRENT_BINARY_DIR}"
    SOURCE_DIR        "${CMAKE_CURRENT_BINARY_DIR}/src"
    BINARY_DIR        "${CMAKE_CURRENT_BINARY_DIR}/build"
    INSTALL_DIR       "${CMAKE_CURRENT_BINARY_DIR}/install"
    CMAKE_GENERATOR   "@CMAKE_GENERATOR@"
    CMAKE_ARGS        -DCMAKE_BUILD_TYPE=@CMAKE_BUILD_TYPE@
                      -DCMAKE_TOOLCHAIN_FILE=@CMAKE_TOOLCHAIN_FILE@
                      -DCMAKE_INSTALL_PREFIX=${CMAKE_CURRENT_BINARY_DIR}/install
    TEST_COMMAND      ""
)